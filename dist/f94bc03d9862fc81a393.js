const{seoObject:seoObject}=require("./seoscript");import css from"../css/styles.css";import html from"../../index.html";import{toggleHiddenDescription}from"./showHideTextScript";import i18next from"i18next";import HttpApi from"i18next-http-backend";import LanguageDetector from"i18next-browser-languagedetector";import translationEn from"../lang/en.json";import translationFr from"../lang/fr.json";import sendForm_DataToMail from"../../httpEndpoints/sendEmailApi";import Toastify from"toastify-js";let mobileMenuIcon=document.querySelector(".container a.icon"),mobileMenuElementsToDisplay=document.querySelector("header nav ul");mobileMenuIcon.addEventListener("click",(()=>{"block"===mobileMenuElementsToDisplay.style.display?mobileMenuElementsToDisplay.style.display="none":mobileMenuElementsToDisplay.style.display="block"}));const form=document.forms.getInTouch;function submitFormData(e){e.preventDefault();let t=new FormData(form);sendForm_DataToMail([...t]).then((e=>{e.data.error?(Toastify({duration:5e3,gravity:"top",position:"right",style:{background:"linear-gradient(to right, #b00015, #fd001e)"}}).showToast(),serverResponseMsg.innerHTML=data.error):e.data.message&&Toastify({text:e.data.message,duration:5e3,gravity:"top",position:"right",style:{background:"linear-gradient(to right, #00b09b, #96c93d)"}}).showToast()}))}form.addEventListener("submit",submitFormData,!1);const resources={en:{translation:translationEn},fr:{translation:translationFr}},initI18next=async()=>{await i18next.use(HttpApi).use(LanguageDetector).init({lng:"en",debug:!0,resources:resources,supportedLngs:["en","fr"],fallbackLng:"en",nonExplicitSupportedLngs:!0})},translatePageElements=()=>{document.querySelectorAll("[data-i18n-key]").forEach((e=>{const t=e.getAttribute("data-i18n-key"),n=e.getAttribute("data-i18n-opt"),o=n?JSON.parse(n):{};e.innerHTML=i18next.t(t,o)}))},bindLocaleSwitcher=e=>{const t=document.querySelector("[data-i18n-switcher]");t.value=e,t.onchange=e=>{i18next.changeLanguage(e.target.value).then(translatePageElements)}};!async function(){await initI18next(),translatePageElements(),bindLocaleSwitcher(i18next.resolvedLanguage)}();