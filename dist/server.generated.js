(()=>{var e={287:(e,s,r)=>{const t=r(17),o=process.cwd();r(142).config({path:t.join(o,"./server/env/.env")});let{smtpTransport:n}=r(618);const{IncomingForm:a}=r(616),i=r(147);e.exports={sendEmail:(e,s)=>{new a({keepExtensions:!0,multiples:!0}).parse(e,(async(e,r,t)=>{if(e)return s.status(400).json({error:"form data could not be uploaded"});let o=[],a=[];if(t){for(const[e,s]of Object.entries(t))a.push(JSON.stringify(s));a.forEach((e=>{let s=JSON.parse(e);console.log(s.filepath),o.push({content:i.createReadStream(s.filepath),filename:JSON.stringify(s.originalFilename),contentType:JSON.stringify(s.mimetype)})}))}let c=[];for(const[e,s]of Object.entries(r))c.push(s[1]);try{n.verify(((e,s)=>{e?console.log(e):console.log("Server is ready to take our messages")}));const e={from:c[1],to:process.env.USER_EMAIL,subject:c[2],html:`\n                       Hello, I am a ${c[0]},\n                       <p>${c[3]}</p>\n                       <p>Kind Regards</p>\n                       <p>${c[0]}\n                    `,attachments:o};n.sendMail(e,((e,r)=>e?s.status(400).json({error:"Error sending email! Try again later"}):(console.log("Email sent: "+r.response),s.status(200).json({message:"Email sent successfully"}))))}catch(e){return s.status(400).json({error:"Error sending email!"})}}))}}},257:e=>{e.exports={ValidateFormData:async(e,s,r)=>{let t=(e=>{if(""!==e.subject)return e})(e.body);return t?(e=>{if(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e.email))return e})({senderName:(o=t).senderName,email:o.email.replace(/\s+/g,""),subject:o.subject,message:o.message})?void r():s.status(400).json({error:"Email Invalid! Please Check your email address"}):s.status(400).json({error:"Please add [subject] to your email address :)"});var o}}},715:(e,s,r)=>{const t=r(860).Router(),o=r(287);r(257),t.route("/api/sendMail").post(o.sendEmail),e.exports=t},618:(e,s,r)=>{const t=r(184),o=r(17),n=process.cwd();r(142).config({path:o.join(n,"./server/env/.env")});let a=t.createTransport({service:"gmail",host:"smtp.gmail.com",port:587,secure:!1,auth:{user:process.env.USER_EMAIL,pass:process.env.USER_PASS},tls:{rejectUnauthorized:!1}});e.exports={smtpTransport:a}},986:e=>{"use strict";e.exports=require("body-parser")},455:e=>{"use strict";e.exports=require("compression")},710:e=>{"use strict";e.exports=require("cookie-parser")},582:e=>{"use strict";e.exports=require("cors")},142:e=>{"use strict";e.exports=require("dotenv")},860:e=>{"use strict";e.exports=require("express")},616:e=>{"use strict";e.exports=require("formidable")},184:e=>{"use strict";e.exports=require("nodemailer")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")}},s={};function r(t){var o=s[t];if(void 0!==o)return o.exports;var n=s[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return r.d(s,{a:s}),s},r.d=(e,s)=>{for(var t in s)r.o(s,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{"use strict";r.r(t);var e=r(17),s=r.n(e);const o=r(860),n=process.cwd();r(142).config({path:s().join(n,"./server/env/.env")});const a=r(986),i=r(710),c=r(455),l=r(582),u=r(715),p=o();p.use(a.json()),p.use(a.urlencoded({extended:!0})),p.use(i()),p.use(c()),p.use(l()),p.use(o.static(s().join(n,"./dist"))),p.get("/",((e,r)=>{r.status(200).sendFile(s().join(n,"./dist/index.html"))})),p.use("/",u);let d=process.env.PORT;p.listen(d,(function(e){e&&console.log(e),console.info("Server started on port %s.",d),console.info("Site Portfolio available at  http://localhost:%d",d)}))})(),module.exports=t})();